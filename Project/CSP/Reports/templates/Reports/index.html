<html>
<head>
	<title>Reports</title>
	{% load staticfiles %}
	<link rel="stylesheet" type="text/css" href="{% static "css/foundation.min.css" %}">
    <link rel="stylesheet" type="text/css" href="{% static "css/reports.css" %}">
    <script type="text/javascript" src="{% static "js/vendor/jquery.js" %}"></script>
    <script type="text/javascript" src="{% static "js/foundation.min.js" %}"></script>
    <script type="text/javascript" src="{% static "js/foundation/foundation.reveal.js" %}"></script>
	<script>
  	 	$(document).foundation();
	</script>
</head>
<body>
<nav class="top-bar" data-topbar role="navigation">
  <ul class="title-area">
    <li class="name">
      <h1><a href="#">Name</a></h1>
    </li>
    <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
  </ul>
  <section class="top-bar-section">
    <ul class="right">
   	<!-- 	<li><input type="text" placeholder="Search..."/></li> -->
      <li><a href="#">Home</a></li>
      <li><a href="#">Courses</a></li>
      <li class="active"><a href="#">Reports</a></li>
      <li id="search_click"><a href="#">Search</a></li>
      <li><a href="#">Logout</a></li>   
  </section>
</nav>
<div class="container" id="search_bar" style="background-color:#444;">
	<div class="row">
		<div class="large-10 columns">
			<input style="margin-top:13px;" type="text" placeholder="Search...">
		</div>
			<div class="large-2 columns">
		<a href="#" style="margin-top:10px;" class="button small">Search</a></div>
	</div>
</div>
<div class="container" id="Hide">
	<div class="large-12 columns filters_div">
			<h4>Run a Report</h4>
			<div class="row">
				    <div class="large-12 columns">
				    	<select id="maintype">
				    		<option value="-1">Select one</option>
				    		<option value="courses">Course</option>
				    		<option value="semester">Semester</option>
				    		<option value="career">Career</option>
				    	</select>
				    	<fieldset>
					    	<select id="semester_list">
					    		<option>Monsoon 2013</option>
					    		<option>Spring 2013</option>
					    		<option>Monsoon 2014</option>
					    	</select>
				    	</fieldset>
				    	<fieldset>
					    	<select id="course_list">
					    		<option>Course Name 1</option>
					    		<option>Course Name 2</option>
					    		<option>Course Name 3</option>
					    	</select>
				    	</fieldset>
				    </div>
			</div>
			<div class="row">
				<div class="large-12 columns">
					<label id="help">Click any query to remove it.</label>
				<ul id="ListofQueries" class="inline-list">
					
				</ul>
				<ul id="HiddenListofQueries">
					
				</ul>
				</div>
			</div>
			<div class="row">
				<div class="large-3 columns">
					<fieldset>
					<label>Type</label>
					<select id="querytype">
						<option value="0">Select Query Type</option>
						<option value="batch">Batch</option>
						<option value="programme">Programme</option>
						<option value="sgpa">SGPA</option>
						<option value="cgpa">CGPA</option>
						<option value="attendance">Attendance</option>
						<option value="grades">Grades</option>
						<option value="marks">Marks</option>
						<!-- <option value="timeperiod">Time Period</option> -->
					</select>
					</fieldset>
				</div>
				<div class="large-3 columns">
					<fieldset class="batch filters">
						<label>Operation</label>
						<select id="batchInput1">
							<option value="before">Before</option>
							<option value="after">After</option>
							<option value="is">Is</option>
						</select>
					</fieldset>
					<fieldset class="programme filters">
						<label>Operation</label>
						<select id="programmeInput1">
							<option value="is">Is</option>
						</select>
					</fieldset>	
					<fieldset class="timeperiod filters">
						<label>Operation</label>
						<select id="timeperiodInput1">
							<option value="range">Range</option>
						</select>
					</fieldset>	
				</div>
				<div class="large-6 columns">
					<fieldset class="batch filters">
						<label>Input</label>
						<input id="batchInput2" type="text" placeholder="Year">
					</fieldset>
					<fieldset class="timeperiod filters">
						<label>Input</label>
						<div class="row">
							<div class="large-6 columns">
								<input id="timeperiodInput3" type="text" placeholder="From Semester, ex: Monsoon 2013">
							</div>
							<div class="large-6 columns">
								<input id="timeperiodInput4" type="text" placeholder="To Semester, ex: Monsoon 2013">
							</div>
						</div>
					</fieldset>
					<fieldset class="programme filters">
						<label>Input</label>
						 <select id="programmeInput2">
					       	  <option selected value="*">any</option>
					          <option value="CSE">CSE</option>
					          <option value="CSD">CSD</option>
					          <option value="ECE">ECE</option>
					          <option value="ECD">ECD</option>
					          <option value="CND">CND</option>
					          <option value="CHD">CHD</option>
					          <option value="CLD">CLD</option>
					          <option value="BSD">BSD</option>
					    </select>
				    </fieldset>
				</div>
				<div class="large-3 columns">
					<fieldset class="sgpa cgpa attendance grades marks filters">
						<label>Operation</label>
						<select id="operationInput">
						<!-- 	<option value="less than">Less than</option>
							<option value="greater than">Greater Than</option>
							<option value="equal to">Equal to</option> -->
							<option value="between">Range</option>
						</select>
					</fieldset>
				</div>
				<div class="large-6 columns">
					<fieldset class="sgpa cgpa filters">
						<label>Input</label>
						<div class="row">
							<div class="large-6 columns" >
								<label>
					        		<input id="gpaInput3" type="text" placeholder="Enter a minimum GPA" />
					      		</label>
							</div>
							<div class="large-6 columns" >
								<label>
					        		<input id="gpaInput4" type="text" placeholder="Enter a maximum GPA" />
					      		</label>
					  		</div>
				    </fieldset>
				    <fieldset class="attendance marks filters">
						<label>Input</label>
						<div class="row">
							<div class="large-6 columns" >
								<div class="row collapse postfix-round">
						    		<div class="small-9 columns">
						        		<input id="percentageInput1" type="text" placeholder="Minimum" />
						    		</div>
						    		<div class="small-3 columns">
					        			<a href="#" class="button postfix">%</a>
						    		</div>
					 			</div>
					 		</div>
							<div class="large-6 columns" >
					    		<div class="row collapse postfix-round">
					    			<div class="small-9 columns">
				            			<input id="percentageInput2" type="text" placeholder="Maximum" />
				        			</div>
				        			<div class="small-3 columns">
					          			<a href="#" class="button postfix">%</a>
				        			</div>
								</div>
							</div>
						</div>
					</fieldset>
					 <fieldset class="grades filters">
						<label>Input</label>
						<div class="row">
							<div class="large-6 columns" >
								<label>
					        		<input id="gradeInput3" type="text" placeholder="Minimum grade" />
					      		</label>
							</div>
							<div class="large-6 columns" >
								<label>
					        		<input id="gradeInput4" type="text" placeholder="Maximum grade" />
					      		</label>
					  		</div>
						</div>
					</fieldset>
				</div>
				<div class="large-12 columns">
					<fieldset class="marks filters">
						<label>Exam type</label>
						 <select id="marksInput5">
					       	  <option selected value="Final">Final</option>
					          <option value="MidSem1">MidSem1</option>
					          <option value="MidSem2">MidSem2</option>
					    </select>
				    </fieldset>
				</div>
				<div class="large-12 columns">
					<div class="row">
						<div class="large-6 columns" >
							<a href="#" class="button full small" id="add_query">Add Query</a>
						</div>
						<div class="large-6 columns" >
							<a href="#" class="button full small" id="run_query">Run Query(s)</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="container table_div">
		<div class="container" style="margin-top:10px;" id="back_div">
			<div class="large-12 columns">
				<div class="container">
					<div class="large-2 columns">
						<a href="#" class="button full small" id="back_query">Back</a>
					</div>
					<div class="large-2 columns">
						<!-- <label>Email</label>
						<select>
							<option value="0">Group</option>
							<option value="1">Individual</option>
							<option value="2">Parents</option>
						</select> -->
						<a href="#" class="button full small" data-reveal-id="myModalEmail" id="email_query">Email</a>
					</div>
					<div class="large-2 columns">
						<a href="#" class="button full small" data-reveal-id="myModal" id="back_query">Change Columns</a>
					</div>
					<div class="large-1 columns">
						<p></p>
					</div>
					<div class="large-2 columns dropdownbu">
						<label>View</label>
						<select>
							<option value="10">10</option>
							<option value="50">50</option>
							<option value="100">100</option>
						</select>
					</div>
					<div class="large-2 columns dropdownbu">
						<label>Export</label>
						<select>
							<option value="0">CSV</option>
							<option value="0">Excel</option>
							<option value="1">Word</option>
							<option value="2">PDF</option>
						</select>
					</div>
					<div class="large-1 columns" >
						<a href="#" class="button full small" id="apply_query">Apply</a>
					</div>
					<hr>
				</div>
			</div>
			<div class="large-11 columns">
				<h4>Query:</h4>
				<ul id="2ListofQueries" class="inline-list">
					
				</ul>
			</div>
		</div>
		<div class="large-12 columns">
			<table>
				 	<thead>
					    <tr>
						    <th>~</th>
						    <th>Roll No</th>
						    <th>Full Name</th>
						    <th>CGPA</th>
						    <th>Attendance</th>
						    <th>Branch</th>
					    </tr>
					</thead>
				<tbody>
				    <tr>
					    <td><input type="checkbox"></td>
					    <td>Filler</td>
					    <td>Filler</td>
					    <td>Filler</td>
					    <td>Filler</td>
					    <td>Filler</td>
				    </tr>
				    <tr>
					    <td><input type="checkbox"></td>
					    <td>Filler</td>
					    <td>Filler</td>
					    <td>Filler</td>
					    <td>Filler</td>
					    <td>Filler</td>
				    </tr>
				    <tr>
					    <td><input type="checkbox"></td>
					    <td>Filler</td>
					    <td>Filler</td>
					    <td>Filler</td>
					    <td>Filler</td>
					    <td>Filler</td>
				    </tr>
				    <tr>
					 	<td><input type="checkbox"></td>
					  	<td>Filler</td>
					    <td>Filler</td>
					    <td>Filler</td>
					    <td>Filler</td>
					    <td>Filler</td>
				    </tr>
				    <tr>
					    <td><input type="checkbox"></td>
					    <td>Filler</td>
					    <td>Filler</td>
					    <td>Filler</td>
					    <td>Filler</td>
					    <td>Filler</td>
				    </tr>
				    <tr>
					    <td><input type="checkbox"></td>
					    <td>Filler</td>
					    <td>Filler</td>
					    <td>Filler</td>
					    <td>Filler</td>
					    <td>Filler</td>
				    </tr>
				    <tr>
					    <td><input type="checkbox"></td>
					   	<td>Filler</td>
					    <td>Filler</td>
					    <td>Filler</td>
					    <td>Filler</td>
					    <td>Filler</td>
				    </tr>
			  	</tbody>
			</table>
			<div class="pagination-centered">
				<ul class="pagination">
				    <li class="arrow unavailable"><a href="">&laquo;</a></li>
				    <li class="current"><a href="">1</a></li>
				    <li><a href="">2</a></li>
				    <li><a href="">3</a></li>
				    <li><a href="">4</a></li>
				    <li class="unavailable"><a href="">&hellip;</a></li>
				    <li><a href="">12</a></li>
				    <li><a href="">13</a></li>
				    <li class="arrow"><a href="">&raquo;</a></li>
				</ul>
			</div>
		</div>
	</div>
	<div id="myModalEmail" class="reveal-modal small" data-reveal="">

	 	<h3>Email to:</h3>
	 	<select>
	 		<option>Marked students as individuals</option>
	 		<option>Marked students as a group</option>
	 		<option>Other user</option>
	 		<option>Myself</option>
	 	</select>
	 	<input type="text" placeholder="Enter user email address">
	 <a href="#" class="button full small" id="apply_query">Send!</a>
	  <a class="close-reveal-modal">&#215;</a>
	</div>
	<div id="myModal" class="reveal-modal" data-reveal="">
	 <table>
	 	<h3>Change visible coulumns.</h3>
	 	<thead>
	 		<th>~</th>
			<th>Table Name</th>
			<tbody>
				<tr>
					    <td><input type="checkbox"></td>
					    <td>Filler</td>
				    </tr>
				    <tr>
					    <td><input type="checkbox"></td>
					    <td>Filler</td>
				    </tr>
				    <tr>
					    <td><input type="checkbox"></td>
					    <td>Filler</td>
				    </tr>
			</tbody>
	 	</thead>
	 </table>
	 <a href="#" class="button full small" id="apply_query">Apply</a>
	  <a class="close-reveal-modal">&#215;</a>
	</div>
	<div class="footer" style="bottom:0px;position:fixed;width: 100%;margin-top:10px;" >
     <nav class="top-bar" data-topbar role="navigation">
      <ul class="title-area">
      <section class="top-bar-section"> <!-- Right Nav Section --> 
        <ul class="right">
      <!--  <li><a href=/adminStaff/sendNotifications/>Send Notifications</a></li>
       <li> | </li>
       <li><a href=/adminStaff/viewFeedback/>View Feedback</a></li>
       <li> | </li> -->
      <li><a href="#">Courses</a></li>
       <li> | </li>
      <li><a href="#">ISAS</a></li>
       <li> | </li>
      <li><a href="#">Student's Mail</a></li>
       <li> | </li>
      <li><a href="#">IIIT Homepage</a></li>
        </ul> <!-- Left Nav Section --> 
      </section>
    </nav>

	</div>
	<script>
  $(document).foundation();
</script>
<script type="text/javascript">
$(document).ready(function(){
			$('.table_div').hide();
			$('#back_div').hide();
			$('#search_bar').hide();		
			$('.filters').hide();
			$('#semester_list').hide();
			$('#course_list').hide();
			$('#help').hide();

			$('#run_query').click(function(){
				$('#Hide').slideUp();
				$('.table_div').show();
				$('#back_div').show();
			});
			
			$('#back_query').click(function(){
				$('#Hide').slideDown();
				$('.table_div').hide();
				$('#back_div').hide();
			});
			
			$('#search_click').click(function(){
				$('#search_bar').slideToggle();
			
			});
			
			$('#querytype').change(function(){
				$('.filters').hide();
				var K = $('#querytype').val();
				$('.' + K).show();
			});

			$('#maintype').change(function(){
				$('#semester_list').hide();
				$('#course_list').hide();
				var K = $('#maintype').val();
				if( K == 'semester')
					$('#semester_list').show();
				if( K == 'courses')
					$('#course_list').show();
			});

			$('#add_query').click(function(){
				if( $('#maintype').val() == '-1')
					alert("Must Select One of Course, Career or Semester");
				else
				{
					var K = $('#querytype').val();
					var string = ""
					flag = 0
					if( K == 'batch')
					{
						string += "Batch"
						string += " "
						if($('#batchInput1').val() != "" & $('#batchInput2').val() != "" ) 
							string += $('#batchInput1').val() + " " + $('#batchInput2').val();
						else{
							flag = -1
						}
					} else if( K == 'programme')
					{
						string += "Programme"
						string += " "
						if($('#programmeInput1').val() != null & $('#programmeInput2').val() != null ) 
							string += $('#programmeInput1').val() + " " + $('#programmeInput2').val()
						else
							flag = -1
					}
					else if( K == 'sgpa')
					{
						string += "SGPA"
						string += " is "
						if($('#gpaInput3').val() != "" & $('#gpaInput4').val() != "" & $('#operationInput').val() != "" )
							string += $('#operationInput').val() + " " + $('#gpaInput3').val() + " and " + $('#gpaInput4').val() +" for "
						else{
							flag = -1
						}
						if($('#maintype').val() == 'semester')
							string += $('#semester_list').val()
						else{
							flag = -2
							alert('This filter requires the  \'Semester\' option');
						}
					}
					else if( K == 'cgpa')
					{
						string += "CGPA"
						string += " is "
						if($('#gpaInput3').val() != "" & $('#gpaInput4').val() != "" & $('#operationInput').val() != "" )
							string += $('#operationInput').val() + " " + $('#gpaInput3').val() + " - " + $('#gpaInput4').val()
						else
							flag = -1
					}
					else if( K == 'grades')
					{
						if( $('#maintype').val() != 'courses')
							alert('Grade is only a valid query for Course type')
						else{
						string += "Grade"
						string += " is "
						if($('#gradeInput3').val() != "" & $('#gradeInput4').val() != "" & $('#operationInput').val() != "" )
							string += $('#operationInput').val() + " " + $('#gradeInput3').val() + " - " + $('#gradeInput4').val()
						else{
							flag = -1
						}
					}
					}
					else if( K == 'marks')
					{
						if( $('#maintype').val() != 'courses')
							alert('Marks is only a valid query for Course type')
						else{
						string += "Marks"
						string += " are "
						string += $('#operationInput').val()
						string += " "
						if($('#percentageInput1').val() != "" & $('#percentageInput2').val() != "" & $('#marksInput5').val() != "" )
							string += $('#percentageInput1').val() + " - " + $('#percentageInput2').val() +" in " + $('#marksInput5').val()
						else{
							flag = -1
						}
					}
					}
					else if( K == 'attendance')
					{
						if( $('#maintype').val() != 'courses')
							alert('Attendance is only a valid query for Course type')
						else{

						string += "Attendance"
						string += " is between "
						if($('#percentageInput1').val() != "" & $('#percentageInput2').val() != "")
							string += $('#percentageInput1').val() + "% to " + $('#percentageInput2').val() + "%"
						else
							flag = -1
						}
					}
					else if( K == 'timeperiod')
					{
						if( $('#maintype').val() != 'courses')
							alert('Attendance is only a valid query for Course type')
						else{
						string += "Between"
						string += " "
						// alert($('#timeperiodInput3').val() + " and " + $('#timeperiodInput4').val())
						if($('#timeperiodInput3').val() != "" & $('#timeperiodInput3').val() != "" ) 
							string += $('#timeperiodInput3').val() + " and " + $('#timeperiodInput4').val();
						else
						{
							flag = -1
							
						}
					}

					}
					if( flag == 0)
					{	
						$('.inline-list').append("<li class=\"del\">"+ string + "</li>");
						$('#help').show();
					}
					else if(flag == -1)
					{
						alert('Required Fields are empty')
					}

					$('.filters').hide();
				
				}
			});
		});
</script>
</body>
</html>
